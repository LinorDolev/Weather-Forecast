(this["webpackJsonpweather-forecast"]=this["webpackJsonpweather-forecast"]||[]).push([[0],{173:function(e,t,a){e.exports=a(332)},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},215:function(e,t,a){},332:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(37),i=(a(178),a(15)),o=a(16),l=a(22),s=a(21),u=(a(179),a(337)),h=a(342),m=a(338),d=a(339),v=a(171),f=a(344),y=(a(113),a(180),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={favorites:[]},n}return Object(o.a)(a,[{key:"render",value:function(){var e=window.localStorage.getItem("favorites");return r.a.createElement("div",null,Object.keys(e).map((function(t){return r.a.createElement("span",null," key=",t," details=",e[t]," ")})))}}]),a}(r.a.Component)),p=(a(181),a(182),a(343)),E=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.day,a=e.temperature,n=e.unit,c=e.iconNumber,i=new Date(t).toString().split(" ")[0],o=c<10?"0"+c:c;return r.a.createElement(p.a,{className:"container"},r.a.createElement("div",null,i),r.a.createElement("div",null,a,"\xb0 ",n),r.a.createElement("img",{src:"/icons/".concat(o,"-s.png"),alt:"weather forecast"}))}}]),a}(r.a.Component),g=a(335),k=a(340),b=a(172),C=a(341),O=(a(215),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.cityName,a=e.temperature,n=e.weatherText,c=e.iconNumber,i=c<10?"0"+c:c;return r.a.createElement("div",null,r.a.createElement("div",{className:"center-text"},r.a.createElement("span",null,t,r.a.createElement("br",null),n,r.a.createElement("img",{src:"/icons/".concat(i,"-s.png"),alt:"weather forecast",style:{width:"125px",height:"75px"}}),r.a.createElement("br",null),a,"\xb0 C")))}}]),a}(r.a.Component)),N="ix9CMq6dvA1LGFpVgUytGEDDeLy2Wv5a",j=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"getCurrentWeather",value:function(e){"http://dataservice.accuweather.com/currentconditions/v1/".concat(e,"?apikey=").concat(N);return fetch("http://localhost:3000/dummy/TelAviv.json").then((function(e){return e.json()})).then((function(e){return e[0]}))}},{key:"get5DaysForecast",value:function(e){"http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat(N,"&metric=true");return fetch("/dummy/5DaysTelAviv.json").then((function(e){return e.json()})).then((function(e){return e.DailyForecasts}))}},{key:"getAutoComplete",value:function(e){"http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(N,"&q=").concat(e);return fetch("/dummy/AutoCompleteTel.json").then((function(e){return e.json()})).then((function(e){return e}))}}]),e}(),w={locationKey:"215854",city:"Tel-Aviv"},D=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={autoCompleteList:[],fiveDaysForecast:[],cityName:"Tel-Aviv",temperature:0,weatherText:"",locationKey:"215854",iconNumber:0,unit:"",isFavorite:n.isFavorite()},n}return Object(o.a)(a,[{key:"isFavorite",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=JSON.parse(window.localStorage.getItem("favorites"));return null!==t&&this.filterOutCity(t,e).length!==t.length}},{key:"filterOutCity",value:function(e,t){return e.filter((function(e){return e.locationKey!==t.locationKey}))}},{key:"onChangeSearch",value:function(e){var t=this,a=e.target.value;a&&""!==a&&j.getAutoComplete(a).then((function(e){t.setState({autoCompleteList:e})}))}},{key:"refreshWeather",value:function(){var e=this;j.getCurrentWeather(this.state.locationKey).then((function(t){var a=t.Temperature.Metric.Value,n=t.WeatherText,r=e.isFavorite({locationKey:e.state.locationKey}),c=t.WeatherIcon;e.setState({temperature:a,weatherText:n,isFavorite:r,iconNumber:c})})),j.get5DaysForecast(this.state.locationKey).then((function(t){e.setState({fiveDaysForecast:t})}))}},{key:"componentDidMount",value:function(){this.refreshWeather()}},{key:"onClickedAddToFavorite",value:function(){var e=window.localStorage.getItem("favorites");e=null==e?[]:JSON.parse(e);var t={locationKey:this.state.locationKey,cityName:this.state.cityName},a=this.filterOutCity(e,t);e.length===a.length?(e.push(t),this.setState({isFavorite:!0})):(e=a,this.setState({isFavorite:!1})),window.localStorage.setItem("favorites",JSON.stringify(e))}},{key:"toAutoCompleteResultItem",value:function(e){var t=e.LocalizedName+", "+e.Country.LocalizedName;return{label:t,value:t,key:e.Key}}},{key:"onSelectCity",value:function(e){this.setState({locationKey:e.key,cityName:e.label},this.refreshWeather.bind(this))}},{key:"render",value:function(){var e=this.state.isFavorite?"icon-red-heart":"icon-gray-heart";return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"search-container"},r.a.createElement(g.a,{inside:!0,className:"search-bar",placeholder:"Search here...",onChange:this.onChangeSearch.bind(this)},r.a.createElement(k.a,{onSelect:this.onSelectCity.bind(this),data:this.state.autoCompleteList.map(this.toAutoCompleteResultItem.bind(this))}),r.a.createElement(g.a.Button,null,r.a.createElement(v.a,{icon:"search"})))),r.a.createElement("div",{className:"add-to-favorites"},r.a.createElement(b.a,{className:e,icon:r.a.createElement(v.a,{icon:"heart"}),circle:!0,size:"lg",onClick:this.onClickedAddToFavorite.bind(this)})),r.a.createElement(O,{cityName:this.state.cityName,temperature:this.state.temperature,weatherText:this.state.weatherText,iconNumber:this.state.iconNumber}),r.a.createElement(C.a,{justify:"space-around",className:"flex-grid"},this.state.fiveDaysForecast.map((function(e,t){return r.a.createElement(C.a.Item,{key:t},r.a.createElement(E,{day:e.Date,temperature:e.Temperature.Maximum.Value,unit:e.Temperature.Maximum.Unit,iconNumber:e.Day.Icon}))}))))}}]),a}(r.a.Component),S=a(27);var F=function(){return r.a.createElement(S.c,null,r.a.createElement(S.a,{exact:!0,path:"/",component:D}),r.a.createElement(S.a,{path:"/home",component:D}),r.a.createElement(S.a,{path:"/favorites",component:y}))},T=a(102),M=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={darkMode:!1},n}return Object(o.a)(a,[{key:"toggleDarkMode",value:function(){var e=this,t=this.state.darkMode;this.setState({darkMode:!t},(function(){console.log("Dark Mode: "+e.state.darkMode)}))}},{key:"render",value:function(){var e=this,t=this.state.darkMode?"theme-dark":"theme-light";return r.a.createElement("div",{className:"app ".concat(t)},r.a.createElement(T.a,null,r.a.createElement(x,{darkMode:this.state.darkMode,onDarkModeChanged:function(){return e.toggleDarkMode()}}),r.a.createElement(u.a,{id:"temp-scale-radio",name:"radioList",inline:!0,appearance:"picker",defaultValue:"C"},r.a.createElement(h.a,{id:"celsius-scale",value:"C"},"Celsius"),r.a.createElement(h.a,{id:"fahrenheit-scale",value:"F"},"Fahrenheit")),r.a.createElement(F,null)))}}]),a}(r.a.Component);function x(e){var t=e.darkMode,a=e.onDarkModeChanged;return r.a.createElement(m.a,{id:"navbar",className:"nav"},r.a.createElement(m.a.Header,null,r.a.createElement("a",{className:"logo",href:"/"},"HeroWeather")),r.a.createElement(m.a.Body,null,r.a.createElement(d.a,{pullRight:!0},r.a.createElement(d.a.Item,{href:"/#/home/",icon:r.a.createElement(v.a,{icon:"home"})},"Home"),r.a.createElement(d.a.Item,{href:"/#/favorites/",icon:r.a.createElement(v.a,{icon:"star"})},"Favorites"),r.a.createElement("small",null,r.a.createElement(f.a,{className:"toggle-theme",size:"lg",checkedChildren:"Dark",unCheckedChildren:"Light",value:t,onChange:a})))))}var A=a(69),I=Object(A.a)({dayWeather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DAY":default:return e}},homeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DAY":default:return e}}});Object(A.b)(I,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.render(r.a.createElement(M,null),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.c4d52d7a.chunk.js.map